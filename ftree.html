<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>Finger Trees</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="#%28part._.Finger_.Trees%29" class="tocviewselflink" data-pltdoc="x">Finger Trees</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Finger_.Trees%29" class="tocviewlink" data-pltdoc="x">Finger Trees</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Random-.Access_.Sequences%29" class="tocviewlink" data-pltdoc="x">Random-<wbr></wbr>Access Sequences</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Priority_.Queues%29" class="tocviewlink" data-pltdoc="x">Priority Queues</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Ordered_.Sequences%29" class="tocviewlink" data-pltdoc="x">Ordered Sequences</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Interval_.Trees%29" class="tocviewlink" data-pltdoc="x">Interval Trees</a></td></tr><tr><td align="right"></td><td><a href="#%28part._doc-bibliography%29" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Finger_.Trees%29" class="tocsubseclink" data-pltdoc="x">Finger Trees</a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._mk-ftree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-<wbr></wbr>ftree</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ftree~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>empty?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._empty-ft%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">empty-<wbr></wbr>ft</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-cons.L%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>cons<span class="mywbr"> &nbsp;</span>L</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-hd.L%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>hd<span class="mywbr"> &nbsp;</span>L</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-tl.L%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>tl<span class="mywbr"> &nbsp;</span>L</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-hd%2Btl.L%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>hd+<span class="mywbr"> &nbsp;</span>tl<span class="mywbr"> &nbsp;</span>L</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-cons.R%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>cons<span class="mywbr"> &nbsp;</span>R</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-hd.R%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>hd<span class="mywbr"> &nbsp;</span>R</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-tl.R%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>tl<span class="mywbr"> &nbsp;</span>R</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-hd%2Btl.R%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>hd+<span class="mywbr"> &nbsp;</span>tl<span class="mywbr"> &nbsp;</span>R</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-append%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>append</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._ft-split%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-<wbr></wbr>split</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._ftree%2Fmain..rkt%29._gen~3aft%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen:<span class="mywbr"> &nbsp;</span>ft</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Random-.Access_.Sequences%29" class="tocsubseclink" data-pltdoc="x">Random-<wbr></wbr>Access Sequences</a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._raseq~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._mk-raseq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-<wbr></wbr>raseq</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._empty-ras%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">empty-<wbr></wbr>ras</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._ra-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-<wbr></wbr>empty?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._ra-splitat%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-<wbr></wbr>splitat</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._raseq%2Fmain..rkt%29._ra-ref%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-<wbr></wbr>ref</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Priority_.Queues%29" class="tocsubseclink" data-pltdoc="x">Priority Queues</a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._pqueue~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._mk-pqueue%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-<wbr></wbr>pqueue</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._pq-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-<wbr></wbr>empty?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._pq-top%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-<wbr></wbr>top</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._pq-rest%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-<wbr></wbr>rest</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._pqueue%2Fmain..rkt%29._pq-top%2Brest%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-<wbr></wbr>top+<span class="mywbr"> &nbsp;</span>rest</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Ordered_.Sequences%29" class="tocsubseclink" data-pltdoc="x">Ordered Sequences</a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._oseq~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._mk-oseq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-<wbr></wbr>oseq</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>empty?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-partition%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>partition</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-insert%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>insert</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-delete-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>delete-<wbr></wbr>all</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-top%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>top</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-remove-top%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>remove-<wbr></wbr>top</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-bot%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>bot</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-remove-bot%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>remove-<wbr></wbr>bot</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._orderedseq%2Fmain..rkt%29._os-merge%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-<wbr></wbr>merge</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Interval_.Trees%29" class="tocsubseclink" data-pltdoc="x">Interval Trees</a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._itree~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._mk-itree%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-<wbr></wbr>itree</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._it-empty~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-<wbr></wbr>empty?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._it-insert%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-<wbr></wbr>insert</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._it-search%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-<wbr></wbr>search</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._it-match%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-<wbr></wbr>match</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._interval~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._interval%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._interval-low%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-<wbr></wbr>low</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._interval-high%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-<wbr></wbr>high</span></span></span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._intervaltree%2Fmain..rkt%29._interval-intersect~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-<wbr></wbr>intersect?</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._doc-bibliography%29" class="tocsubseclink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">5.3.4.11</span></div><h2><a name="(part._.Finger_.Trees)"></a>Finger Trees</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Stephen Chang &lt;<a href="mailto:stchang@racket-lang.org">stchang@racket-lang.org</a>&gt;</p></span></div><p>Finger trees are a general purpose data structure that can be used to implement many other data structures including multiple variations of sequences, deques, and queues. Finger trees support amortized constant time access to both ends as well as logarithmic time concatenation and splitting.</p><p>Finger trees achieve the log append and split bounds by caching a "measurement" in each node. the actual measurement computed is determined by the specific data structure being represented. For example, caching the size of the subtree at each node implements a random-access sequence.</p><p>Based on Hinze and Paterson&rsquo;s JFP 2006 [<a href="#%28cite._.H.P06%29" data-pltdoc="x">HP06</a>] paper.</p><p>This implementation currently does not utilize laziness, because preliminary benchmarking indicates that it is not beneficial to do so. Thus, the theoretical bounds from the Hinze and Paterson&rsquo;s paper may not hold when the data structures are used persistently. However, the data structures should still perform well in practice.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Finger_.Trees)"></a><a name="(mod-path._ftree)"></a>Finger Trees</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/stchang/plt/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._ftree%29" class="RktModLink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree</span></span></span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._mk-ftree))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-ftree</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&#8709;</span><span class="hspace">&nbsp;</span><span class="RktVar">elem-sz</span><span class="hspace">&nbsp;</span><span class="RktVar">&#8853;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#8709;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">elem-sz</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&#8853;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an empty <a name="(tech._finger._tree)"></a><span style="font-style: italic">finger tree</span>. <span class="RktVar">&#8709;</span> is the "measurement" of the empty tree. <span class="RktVar">elem-sz</span> takes an element in the tree and returns the measurement for that element. Finally, <span class="RktVar">&#8853;</span> must be an associative binary operation that combines measurements.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ftree~3f))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">x</span> is an <a href="#%28tech._finger._tree%29" class="techoutside" data-pltdoc="x"><span class="techinside">finger tree</span></a> and <span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-empty~3f))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-empty?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether the given finger tree is empty.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._ftree/main..rkt)._empty-ft))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">empty-ft</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">The empty finger tree.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-cons.L))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-consL</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Inserts the given value in the finger tree on the left.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-hd.L))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hdL</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the leftmost element from the finger tree. Errors on an empty tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-tl.L))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-tlL</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the given finger tree without its leftmost element. Errors on an empty tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-hd+tl.L))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hd+tlL</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym">any/c</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Combination of <span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hdL</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">ft-tlL</span></span></span>, for efficiency.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-cons.R))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-consR</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Inserts the given value in the finger tree on the right.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-hd.R))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hdR</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the rightmost element from the finger tree. Errors on an empty tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-tl.R))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-tlR</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the given finger tree without its rightmost element. Errors on an empty tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-hd+tl.R))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hd+tlR</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym">any/c</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Combination of <span class="RktSym"><span class="badlink"><span class="RktValLink">ft-hdR</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">ft-tlR</span></span></span>, for efficiency.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-append))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-append</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ft1</span><span class="hspace">&nbsp;</span><span class="RktVar">ft2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Appends the given finger trees.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._ftree/main..rkt)._ft-split))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">ft-split</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p?</span><span class="hspace">&nbsp;</span><span class="RktVar">ft</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ft</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ftree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Splits the given finger tree into two parts such that the given predicate is false for all elements in the first part and true for all elements in the second part.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._ftree/main..rkt)._gen~3aft))"></a><span title="Provided from: ftree"><span class="RktSym"><span class="badlink"><span class="RktValLink">gen:ft</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <font class="badlink"><span class="techoutside"><span class="techinside">generic interface</span></span></font> (see <font class="badlink">(part "struct-generics")</font>) for finger tree-based data structures. Any data structure that implements this interface may use the operations above.
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">gen:mk</span><span class="stt"> </span><span class="RktSym">:</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="stt"> </span><span class="RktSym">any/c</span><span class="stt"> </span><span class="RktSym">any/c</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="stt"> </span><span class="RktSym">any/c</span><span class="stt"> </span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">any/c</span><span class="stt"> </span><span class="RktSym">any/c</span><span class="stt"> </span><span class="RktSym">any/c</span><span class="RktPn">)</span> : Builds a new finger tree based on an existing finger tree. Takes five arguments: <span class="RktSym">existing-ftree</span><span class="stt"> </span><span class="RktSym">&#8709;</span><span class="stt"> </span><span class="RktSym">sz-fn</span><span class="stt"> </span><span class="RktSym">&#8853;</span><span class="stt"> </span><span class="RktSym">internal-ftree</span>.</p></li></ul></div></p><h3>2<tt>&nbsp;</tt><a name="(part._.Random-.Access_.Sequences)"></a><a name="(mod-path._raseq)"></a>Random-Access Sequences</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/stchang/plt/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._raseq%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">raseq</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._raseq/main..rkt)._raseq~3f))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies random-access sequences.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._raseq/main..rkt)._mk-raseq))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-raseq</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Makes an empty random access sequence.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._raseq/main..rkt)._empty-ras))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">empty-ras</span></span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An empty random access sequence.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._raseq/main..rkt)._ra-empty~3f))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-empty?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ras</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ras</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether the given random-access sequence is empty.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._raseq/main..rkt)._ra-splitat))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-splitat</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span><span class="RktVar">ras</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">exact-nonnegative-integer?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ras</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Splits the given random-access sequence at the given index.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._raseq/main..rkt)._ra-ref))"></a><span title="Provided from: raseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">ra-ref</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">ras</span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ras</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">raseq?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">exact-nonnegative-integer?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the <span class="RktVar">i</span>th element of the given random-access sequence.</div></p><h3>3<tt>&nbsp;</tt><a name="(part._.Priority_.Queues)"></a><a name="(mod-path._pqueue)"></a>Priority Queues</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/stchang/plt/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._pqueue%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">pqueue</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._pqueue~3f))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies priority queues.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._mk-pqueue))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-pqueue</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;=</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&lt;=</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Makes an empty priority queue using the given comparison function.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._pq-empty~3f))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-empty?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pq</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether the given priority queue is empty.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._pq-top))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-top</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pq</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the top element in the priority queue.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._pq-rest))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-rest</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pq</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a new priority queue that is the given queue but with the topmost element removed.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._pqueue/main..rkt)._pq-top+rest))"></a><span title="Provided from: pqueue"><span class="RktSym"><span class="badlink"><span class="RktValLink">pq-top+rest</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pq</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym">any/c</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pq</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">pqueue?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Combination of <span class="RktSym"><span class="badlink"><span class="RktValLink">pq-top</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">pq-rest</span></span></span>, for efficiency.</div></p><h3>4<tt>&nbsp;</tt><a name="(part._.Ordered_.Sequences)"></a><a name="(mod-path._orderedseq)"></a>Ordered Sequences</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/stchang/plt/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._orderedseq%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">orderedseq</span></a><span class="RktPn">)</span></td></tr></table></p><p>From Hinze and Paterson&rsquo;s paper:
 "ordered sequences [can be seen as an optimization] of, and subsume, priority
  queues, as we have immediate access to the smallest and the greatest element,
  and search trees, as we can partition ordered sequences in logarithmic time."</p><p><div class="SIntrapara">Differences with pqueues:
</div><div class="SIntrapara"><ul><li><p>Ordered sequences store elements in sorted order, so the <span class="RktSym">ft-hd</span> and <span class="RktSym">ft-tl</span> functions can grab both min and max elements in constant time, but inserting elements requires a special <span class="RktSym"><span class="badlink"><span class="RktValLink">os-insert</span></span></span> function.</p></li><li><p>Priority queues store elements in arbitrary order, using the "measure" function, ie <span class="RktSym">sz</span>,
to determine the order, so <span class="RktSym">ft-cons</span> can be used to insert.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._oseq~3f))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies an ordered sequence.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._mk-oseq))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-oseq</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">&lt;</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Makes an empty ordered sequence using the given comparison function. NOTE: The given comparison function must not include equality because when partitioning, the implementation assumes that the equality elements are in the right partition. So <span class="RktVar">&lt;</span> is ok but <span class="RktSym">&lt;=</span> will not work. The <span class="RktSym">equal?</span> function is used for equality.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-empty~3f))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-empty?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether the given ordered sequence is empty.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-partition))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-partition</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0"><tr><td><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Partitions the given ordered sequence into two parts such that all elements in the first part are "less than" the given <span class="RktVar">x</span> with respect to the previously specified comparison, and all elements in the second part are "greater than or equal to" <span class="RktVar">x</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-insert))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-insert</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Inserts <span class="RktVar">x</span> into <span class="RktVar">os</span>, maintaining proper order.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-delete-all))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-delete-all</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a new ordered sequence with all <span class="RktVar">x</span>&rsquo;s deleted.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-top))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-top</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the top element of the ordered sequence.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-remove-top))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-remove-top</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the given oredered sequence without the top element.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-bot))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-bot</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the bottom element of the ordered sequence.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-remove-bot))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-remove-bot</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the given oredered sequence without the bottom element.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._orderedseq/main..rkt)._os-merge))"></a><span title="Provided from: orderedseq"><span class="RktSym"><span class="badlink"><span class="RktValLink">os-merge</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">os1</span><span class="hspace">&nbsp;</span><span class="RktVar">os2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">os2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">oseq?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Merges the given ordered sequences, maintaining proper order.</div></p><h3>5<tt>&nbsp;</tt><a name="(part._.Interval_.Trees)"></a><a name="(mod-path._intervaltree)"></a>Interval Trees</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/stchang/plt/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._intervaltree%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">intervaltree</span></a><span class="RktPn">)</span></td></tr></table></p><p>Represents sets of intervals where an interval is a pair of real numbers, lo and hi, with lo &lt;= hi. Intervals are sorted in ascending order of the lo&rsquo;s, when added via <span class="RktSym"><span class="badlink"><span class="RktValLink">it-insert</span></span></span> (but not with any of the <span class="RktSym">ft-cons</span> functions). The cached measure is an interval where the lo is the lo of the rightmost element and the hi is the maximum of the element hi&rsquo;s.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._itree~3f))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies an interval tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._mk-itree))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">mk-itree</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Makes an empty interval tree.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._it-empty~3f))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-empty?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">it</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies an empty interval tree.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._it-insert))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-insert</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span><span class="RktVar">hi</span><span class="hspace">&nbsp;</span><span class="RktVar">it</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hi</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Inserts the specified interval in the given interval tree, maintaining ordering.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._it-search))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-search</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span><span class="RktVar">hi</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hi</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr></table></blockquote></div><div class="SIntrapara">Of the intervals in the given interval tree that intersect the given interval, returns the one with the lowest lo.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._it-match))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">it-match</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span><span class="RktVar">hi</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">it</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">itree?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hi</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns all intervals in the given interval tree that intersect the given interval.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._interval~3f))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies an interval struct.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._interval))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span><span class="RktVar">hi</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lo</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">hi</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs an interval struct.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._interval-low))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-low</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the interval lo.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._interval-high))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-high</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">number?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the interval hi.
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._intervaltree/main..rkt)._interval-intersect~3f))"></a><span title="Provided from: intervaltree"><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-intersect?</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span><span class="RktVar">j</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">boolean?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">i</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">j</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval?</span></span></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates if interval <span class="RktVar">i</span> and <span class="RktVar">j</span> intersect, where intersection means
                      <span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-low</span></span></span><span class="stt"> </span><span class="RktVar">i</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-high</span></span></span><span class="stt"> </span><span class="RktVar">j</span><span class="RktPn">)</span><span class="RktPn">)</span> and <span class="RktPn">(</span><span class="RktSym">&lt;=</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-low</span></span></span><span class="stt"> </span><span class="RktVar">j</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">interval-high</span></span></span><span class="stt"> </span><span class="RktVar">i</span><span class="RktPn">)</span><span class="RktPn">)</span>
                      is true.</div></p><h3><a name="(part._doc-bibliography)"></a>Bibliography</h3><p><table cellspacing="0" class="RBibliography"><tr><td><a name="(cite._.H.P06)"></a>[HP06]</td><td><span class="hspace">&nbsp;</span></td><td><span class="bibentry">Ralf Hinze and Ross Paterson, &ldquo;Finger trees: a simple general-purpose data structure,&rdquo; Journal of Functional Programming, 2006.</span></td></tr></table></p></div></div><div id="contextindicator">&nbsp;</div></body></html>